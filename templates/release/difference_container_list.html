<!DOCTYPE html>

<head>
    <meta charset="utf-8"/>
    <title>xxxxxxxxx |数据展现</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="" name="description"/>
    <meta content="" name="author"/>
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="/static/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css"/>
    <link href="/static/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="/static/css/style-metro.css" rel="stylesheet" type="text/css"/>
    <link href="/static/css/style.css" rel="stylesheet" type="text/css"/>
    <link href="/static/css/style-responsive.css" rel="stylesheet" type="text/css"/>
    <link href="/static/css/default.css" rel="stylesheet" type="text/css" id="style_color"/>
    <link href="/static/css/uniform.default.css" rel="stylesheet" type="text/css"/>
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN PAGE LEVEL STYLES -->
    <link rel="stylesheet" type="text/css" href="/static/css/select2_metro.css"/>
    <link rel="stylesheet" href="/static/css/DT_bootstrap.css"/>
	<link href="/static/css/bootstrap-modal.css" rel="stylesheet" type="text/css"/>
    <!-- END PAGE LEVEL STYLES -->
    <link rel="shortcut icon" href="/static/image/favicon.ico"/>
</head>
<!-- END HEAD -->

<!-- BEGIN BODY -->

<body class="page-header-fixed">

<!-- BEGIN HEADER -->

<div class="header navbar navbar-inverse navbar-fixed-top">

    <!-- BEGIN TOP NAVIGATION BAR -->

    <div class="navbar-inner">

        <div class="container-fluid">

            <!-- BEGIN LOGO -->

            <a class="brand" href="{% url 'index' %}">

                <img  style="height: 33px" width="110" src="/static/image/8989.png" alt="logo"/>

            </a>

            <!-- END LOGO -->

            <!-- BEGIN RESPONSIVE MENU TOGGLER -->

            <a href="javascript:;" class="btn-navbar collapsed" data-toggle="collapse" data-target=".nav-collapse">

                <img src="/static/image/menu-toggler.png" alt=""/>

            </a>

            <!-- END RESPONSIVE MENU TOGGLER -->

            <!-- BEGIN TOP NAVIGATION MENU -->

            <ul class="nav pull-right">

                <!-- BEGIN USER LOGIN DROPDOWN -->

                <li class="dropdown user">

                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">

                        <img alt="" src="/static/image/avatar1_small.jpg"/>

                        <span class="username">{{request.user}}</span>

                        <i class="icon-angle-down"></i>

                    </a>

                    <ul class="dropdown-menu">
							<li><a  href="{% url 'ouser:ed_passwd' %}"><i class="icon-user"></i> 修改密码</a></li>
							<li class="divider"></li>
							<li><a href="/logout/"><i class="icon-key"></i>退出登录</a></li>
                    </ul>

                </li>

                <!-- END USER LOGIN DROPDOWN -->

            </ul>

            <!-- END TOP NAVIGATION MENU -->

        </div>

    </div>

    <!-- END TOP NAVIGATION BAR -->

</div>

<!-- END HEADER -->

<!-- BEGIN CONTAINER -->

<div class="page-container row-fluid">

    <!-- BEGIN SIDEBAR -->

    {% include "navigation.html"%}

    <!-- END SIDEBAR -->

    <!-- BEGIN PAGE -->

    <div class="page-content">

        <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->

        <div id="portlet-config" class="modal hide">

            <div class="modal-header">

                <button data-dismiss="modal" class="close" type="button"></button>

                <h3>portlet Settings</h3>

            </div>

            <div class="modal-body">

                <p>Here will be a configuration form</p>

            </div>

        </div>

        <!-- END SAMPLE PORTLET CONFIGURATION MODAL FORM-->

        <!-- BEGIN PAGE CONTAINER-->

        <div class="container-fluid">

            <!-- BEGIN PAGE HEADER-->

            <div class="row-fluid">

                <div class="span12">


                    <!-- BEGIN PAGE TITLE & BREADCRUMB-->

                    <h3 class="page-title">

                        <!--Editable Tables <small>editable table samples</small>-->

                    </h3>

                    <ul class="breadcrumb">

                        <li>

                            <i class="icon-home"></i>

                            <a href="{% url 'index' %}">首 页</a>

                            <i class="icon-angle-right"></i>

                        </li>

                        <li>

                            <a href="#">发布管理</a>

                            <i class="icon-angle-right"></i>

                        </li>

                        <li><a href="#">容器对比</a></li>


                    </ul>

                    <!-- END PAGE TITLE & BREADCRUMB-->

                </div>

            </div>

            <!-- END PAGE HEADER-->

            <!-- BEGIN PAGE CONTENT-->

            <div class="row-fluid">

                <div class="span12">

                    <!-- BEGIN EXAMPLE TABLE PORTLET-->

                    <div class="portlet box blue">

                        <div class="portlet-title">

                            <div class="caption"><i class="icon-edit"></i>列 表</div>

                            <div class="tools">

                                <a href="javascript:;" class="collapse"></a>

                                <a href="#portlet-config" data-toggle="modal" class="config"></a>

                                <a href="javascript:;" class="reload"></a>

                                <a href="javascript:;" class="remove"></a>

                            </div>

                        </div>

                        <div class="portlet-body">


								<div class="clearfix">
                                     <div class="portlet-body form" style="margin-bottom: -30px;">
                                           <form  class="form-horizontal form-row-stripped" >
												{% if error_info %}
                                                  <div  class="alert alert-danger text-center">{{error_info|safe}}</div>
												{% endif %}
                                                  <div id="error_hint" class="text-center" display= "none" style="color: red;background-color: lavender;" hear_url="{% url 'in_release:diff_container' %}"></div>
                                                        <div class="clearfix margin-bottom-20">
														<div class="control-group pull-left">
                                                             <label class="control-label">源环境组:</label>
															<div class="controls">
																	<select class="m-wrap medium" id="src_opt" name="env_flag" required>
                                                                       	{% if src_selected %}
																			<option value="{{src_selected}}" selected>{{src_selected}}</option>
                    													{% else %}
																			 <option value=""></option>
   																		{% endif %}
																		{% for src in src_container_group %}
																		<option>{{src.name}}</option>	
																		{% endfor %}
																	</select>
                                                             </div>
                                                        </div>
                                                        <div class="control-group pull-left">
                                                             <label class="control-label">目标环境组:</label>
                                                             <div class="controls">
																	<select class="m-wrap medium" id="dest_opst" name="env_flag1" required>
																		{% if dest_selected %}
	                                                                            <option value="{{dest_selected}}" selected>{{dest_selected}}</option>
                                                                        {% else %}
                                                                             <option value=""></option>
                                                                        {% endif %}
      																	{% for dest in dest_container_group %}
																			<option>{{dest.name}}</option>
																		{% endfor %}
																	</select>
                                                             </div>
                                                        </div>
                                                        <div class="control-group pull-left">
                                                             <label class="control-label">　</label>
                                                             <div class="controls">
                                                                 <div>
<!--																		<button type="submit" style="height: 33px;margin-left: 50px;margin-left: 15px;width: 80px;" class=" btn blue" id="modal_ajax_demo_btn" data-toggle="modal">确定</button>-->
																	{% if exit_priv.add_contrastresult == '0' %}
																		<input type="button"  style="height: 33px;margin-left: 50px;margin-left: 15px;width: 80px;" class=" btn blue" id="modal_ajax_get_dockerinfo_btn" value="确定"></input>
																	{% else %}
																		<input type="button"  style="height: 33px;margin-left: 50px;margin-left: 15px;width: 80px;" class=" btn blue" value="确定"></input>
																	{% endif %}
                                                                   </div>
                                                             </div>
                                                        </div>
                                                        {% csrf_token %}
                                                        </div>
<hr />
                                            </form>
                                </div>

                            <div class="clearfix">

                            <table class="table table-striped table-hover table-bordered" >
                                <div>
                                    <thead>
                                        <tr>
                                            <th class="hidden-480" >源主机名</th>
                                            <th class="hidden-480">服务列表</th>
                                            <th class="hidden-480">目标环境组</th>
											{% if exit_priv.add_contrastresult == '0' %}
	                                            <th class="hidden-480">新增发布</th>
											{% endif %}
                                        </tr>
                                    </thead>
                                    <tbody>
                                       {% for i in single_exit_container %} 
                                        <tr>
                                            <td><a href="#">{{i.src_host_name}}</a></td>
                                            <td><a href="#">{{i.src_warehouse_name}}{{i.src_version}}</a></td>
                                            <td><a href="#">{{i.dest_env_group_name}}</a></td>
											{% if exit_priv.add_contrastresult == '0' %}
	                                            <td><a href="{% url 'in_release:constrataddtask' %}?exce_id={{i.id}}" class="btn mini  blue">AddService <i class="icon-plus-sign"></i></a></td>
											{% endif %}
                                        </tr>
 										{% endfor %}
                                    </tbody>
                                </div>
                            </table>

                            <div class="clearfix">

                                <div class="btn-group">
								{% if exit_priv.add_contrastresult == '0' %}
                                    <button onclick="releaseCheckPost()" class="btn green" id="opscheckboxpost" value="{% url 'in_release:exce_sync' %}">
                                            批量发布 <i class="icon-share"></i>
                                    </button>
								{% endif %}
                                </div>
                            </div>

                               <table class="table table-striped table-hover table-bordered" id="sample_editable_1">

                                <thead>

                                <tr>
									{% if exit_priv.add_contrastresult == '0' %}
                                    <th><input type="checkbox" onchange="swapCheck(this.checked)"/></th>
									{% endif %}
                                    <th class="hidden-480">源主机名</th>
                                    <th class="hidden-480">源服务列表</th>
                                    <th class="hidden-480">目标主机名</th>
                                    <th class="hidden-480">目标服务列表</th>
									{% if exit_priv.add_contrastresult == '0' %}
                                    <th class="hidden-480">是否同步</th>
									{% endif %}
                                    <!--<th class="hidden-480">是否</th>-->

                                </tr>

                                </thead>

                                <tbody>

                                {% for o in data %}
                                <tr>

                                    <!--<td><a href="#" >{{ forloop.counter }}</a></td>-->
									{% if exit_priv.add_contrastresult == '0' %}
                                    <td><input type="checkbox" class="list-checkbox" value="{{o.id}}" /></td>
									{% endif %}
                                    <td><a href="#">{{ o.src_host_name }}</a></td>
                                    <td><a href="#">{{ o.src_warehouse_name }}{{o.src_version}}</a></td>
                                    <td><a href="#">{{ o.dest_host_name }}</a></td>
                                    <td><a href="#">{{ o.dest_warehouse_name }}{{o.dest_version}}</a></td>
									{% if exit_priv.add_contrastresult == '0' %}
                                    <td>
                                        <button onclick="GetByIdpostRequest()" id="postid" url_head="{% url 'in_release:exce_sync' %}"  class="btn mini  blue" exce_id={{o.id}}><b>Excute  </b><i  class="icon-share"></i></button>
                                    </td>
									{% endif %}
                                </tr>
                                {% endfor %}

                                </tbody>

                            </table>
                        </p>
                        </div>

                    </div>

                    <!-- END EXAMPLE TABLE PORTLET-->

                </div>

            </div>

            <!-- END PAGE CONTENT -->

        </div>

        <!-- END PAGE CONTAINER-->

    </div>

    <!-- END PAGE -->

</div>

<!-- END CONTAINER -->

<!-- BEGIN FOOTER -->
{% include "footer.html"%}


<!-- END FOOTER -->
<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
<!-- BEGIN CORE PLUGINS -->
<script src="/static/js/jquery-1.10.1.min.js" type="text/javascript"></script>
<script src="/static/js/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
<!-- IMPORTANT! Load jquery-ui-1.10.1.custom.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
<script src="/static/js/jquery-ui-1.10.1.custom.min.js" type="text/javascript"></script>
<script src="/static/js/bootstrap.min.js" type="text/javascript"></script>
<!--[if lt IE 9]>
<script src="/static/js/excanvas.min.js"></script>
<script src="/static/js/respond.min.js"></script>
<![endif]-->
<script src="/static/js/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="/static/js/jquery.blockui.min.js" type="text/javascript"></script>
<script src="/static/js/jquery.cookie.min.js" type="text/javascript"></script>
<script src="/static/js/jquery.uniform.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script type="text/javascript" src="/static/js/select2.min.js"></script>
<script type="text/javascript" src="/static/js/jquery.dataTables.js"></script>
<script type="text/javascript" src="/static/js/DT_bootstrap.js"></script>
<script type="text/javascript" src="/static/js/opscheckbox.js"></script>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->   
<script src="/static/js/bootstrap-modal.js" type="text/javascript" ></script>
<script src="/static/js/bootstrap-modalmanager.js" type="text/javascript" ></script>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="/static/js/app.js"></script>
<script src="/static/js/table-editable.js"></script>
<script src="/static/js/ui-modals.js"></script>  
<script>
		jQuery(document).ready(function() {
		   App.init();
		   TableEditable.init();
		UIModals.init();
		});

</script>

<!--<script type="text/javascript">-->
		<!--//checkbox 全选/取消全选-->
		<!--function swapCheck(value) {-->

			<!--if (value) {-->
				<!--$("input[type=checkbox]").each(function(){ //由于复选框一般选中的是多个,所以可以循环输出选中的值-->
					<!--// $(item).removeProp('checked');-->
					<!--// $(item).prop("checked", true);-->
					<!--// console.log("&#45;&#45;&#45;&#45;true&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;");-->
					<!--$.uniform.update($(this).prop("checked",true))-->
				<!--})-->
			<!--} else {-->
				<!--$("input[type=checkbox]").each(function() {-->

					<!--$.uniform.update($(this).prop("checked",false))-->

				<!--});-->

		<!--}-->
	<!--}-->
		<!--function releaseCheck(){-->
			    <!--var list = []-->
            <!--$('.list-checkbox').each(function(index, item) {-->
                <!--if($(this).prop('checked')) {-->
                    <!--list.push($(this).val())-->
                <!--}-->
            <!--})-->
            <!--let url = `http://127.0.0.1:8000/release/release_exec?id=${JSON.stringify(list)}`-->
            <!--console.log(url)-->
            <!--$.get(url, null, function(res){-->
                <!--console.log(res)-->
                <!--if (res.msg === 'ok!') {-->
                    <!--window.location.reload();-->
                <!--}-->
            <!--})-->
        <!--}-->


<!--</script>-->
</script>
<script type="text/javascript">
      var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-37564768-1']);  _gaq.push(['_setDomainName', 'keenthemes.com']);  _gaq.push(['_setAllowLinker', true]);  _gaq.push(['_trackPageview']);  (function() {    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);  })();
</script>
</body>
<!-- END BODY -->
</html>

</html>

